<div class="chat">
  <h2>⚡ Barry AI Chat</h2>

  <div class="chat-area" #scrollMe style="height: 400px; overflow-y: auto">
    <div
      *ngFor="let msg of mensagens"
      class="msg"
      [class.user]="msg.tipo === 'user'"
    >
      <strong>{{ msg.tipo === "user" ? "Você:" : "BarryAI:" }}</strong>

      <!-- MUDANÇA 1: Usamos a tag markdown para formatar o texto (negrito, código, etc) -->
      <div class="markdown-text">
        <markdown [data]="msg.texto"></markdown>
      </div>
    </div>

    <div *ngIf="carregando"><em>Barry está digitando...</em></div>
  </div>

  <div class="input-area">
    <input
      type="text"
      [(ngModel)]="userMessage"
      (keyup.enter)="enviar()"
      placeholder="Faça sua pergunta..."
    />

    <!-- MUDANÇA 3: Chamamos enviar() sem argumentos -->
    <button (click)="enviar()">Enviar</button>
  </div>
</div>
