<div class="admin-layout">
  <!-- Sidebar (Igual) -->
  <aside class="sidebar">
    <div class="brand"><span>âš¡</span> Admin</div>
    <nav>
      <a href="#" class="active">ğŸ“Š Dashboard Real</a>
    </nav>
    <div class="logout-area">
      <button (click)="sair()">Sair</button>
    </div>
  </aside>

  <main class="content">
    <header>
      <h2>Torre de VigilÃ¢ncia</h2>
      <div class="user-info">Banco de Dados: MongoDB ğŸŸ¢</div>
    </header>

    <!-- CartÃµes com DADOS REAIS -->
    <div class="stats-grid">
      <div class="card">
        <h3>UsuÃ¡rios Totais</h3>
        <div class="number">{{ stats.total }}</div>
      </div>
      <div class="card">
        <h3>Assinantes Premium</h3>
        <div class="number ok">{{ stats.premium }}</div>
      </div>
      <div class="card">
        <h3>Plano BÃ¡sico</h3>
        <div class="number">{{ stats.basic }}</div>
      </div>
      <div class="card warning">
        <h3>Admins</h3>
        <div class="number">{{ stats.admin }}</div>
      </div>
    </div>

    <!-- Tabela DinÃ¢mica -->
    <div class="recent-users">
      <h3>UsuÃ¡rios Cadastrados no Banco</h3>
      
      <div *ngIf="carregando">Carregando dados do MongoDB...</div>

      <table *ngIf="!carregando">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Email</th>
            <th>Tipo</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>
        <tbody>
          <!-- O *ngFor aqui cria uma linha para cada usuÃ¡rio real -->
          <tr *ngFor="let user of usuarios">
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>
              <!-- Classes dinÃ¢micas para cor da tag -->
              <span class="tag" 
                    [class.basic]="user.tipo === 'basic'"
                    [class.admin]="user.tipo === 'admin'">
                {{ user.tipo | uppercase }}
              </span>
            </td>
            <td>
              <button (click)="deletarUsuario(user._id)" style="color: red; border: none; background: none; cursor: pointer;">
                ğŸ—‘ï¸ Excluir
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>